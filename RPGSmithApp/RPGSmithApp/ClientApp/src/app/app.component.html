<div id="app_container" class="{{configurations.theme | lowercase}}-theme" [ngClass]="IsRulesetRecordScreenActive?'body-manila ':''">
  <!-- Site header -->
  <header class="site-header" *ngIf="isUserLoggedIn">

    <div class="container-fluid">
      <div class="site-header-wrapper">
        <div class="site-header-left-section">
          <!-- Logo -->
          <div class="site-header-logo">
            <div class="site-header-logo-full" routerLink="/characters">
              <img [src]="appLogoLarge" alt="logo">
            </div>
            <div class="site-header-logo-small" routerLink="/characters">
              <img [src]="appLogoSmall" alt="Logo">
            </div>
          </div>
          <ng-container *ngIf="headers && !showCharacterSearch">
            <div class="user-login-details" *ngIf="headers.hasHeader" (click)="gotoDashboard()" [ngClass]="IsCharacterRecordScreenActive?'active-profile':''">
              <span>
                <img [src]="headers?.headerImage" [alt]="headers?.headerName" onerror="this.src = '../assets/images/DefaultImages/AccountProfile.jpg';">
              </span>
              <span>{{headers?.headerName}}</span>
            </div>
          </ng-container>
          <ng-container *ngIf="IsCharacterRecordScreen">
            <div class="user-login-details" *ngIf="headers.hasHeader" (click)="gotoRulesetViewForCharacter()" [ngClass]="IsRulesetRecordScreenActive?'active-profile':''">
              <span>
                <img [src]="ruleset?.imageUrl" onerror="this.src = 'https://rpgsmithsa.blob.core.windows.net/stock-defimg-rulesets/RuleSetWhite.png';">
              </span>
              <span>{{ruleset?.ruleSetName}}</span>

              <!--<a *ngIf="IsCharacterRecordScreen && IsRulesetRecordScreenActive" href="javascript:void(0);" (click)="gotoRulesetView()" class="btn btn-primary">Rule Set &nbsp; <span class=" fa fa-arrow-right"></span></a>-->
            </div>
          </ng-container>
          <!-- End of logo -->
        </div>

        <div class="site-header-right-section">
          <form class="site-header-search" *ngIf="showCharacterSearch && false">
            <i class="icon icon-search"></i>
            <input type="search" name="searchText" [(ngModel)]="searchText" placeholder="Search {{placeHolderText}}" (keyup.enter)="goToSearch(searchText)">
          </form>

          <!-- Search -->
          <div class="site-header-search" *ngIf="SearchType">
            <i class="icon icon-search"></i>
            <input type="text" name="searchCharRule" [(ngModel)]="searchCharRule" placeholder="Search {{ SearchTypeText }}" (keyup.enter)="navigateToSearch(SearchType, searchCharRule)" />
          </div>

          <!-- User -->
          <div class="site-header-user">
            <div class="site-header-user-avatar">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 102 102">
                <path d="M0,0V102H102V0ZM95,76,51,101,7,76V26L51,1,95,26Z" />
              </svg>
              <img [src]="profileImage" [alt]="userName" onerror="this.src = '../assets/images/DefaultImages/AccountProfile.jpg';">
            </div>
            <div class="site-header-user-name">{{userName}}</div>
          </div>
          <!-- End of user -->
          <!-- Site navigation -->
          <nav class="site-header-navigation">
            <div class="dropdown" [ngClass]="{'show': isDropdownOpen}">
              <div (click)="updateCount();" class="dropdown-toggle is-open" id="siteNavigationToggle" data-toggle="dropdown" aria-expanded="false">
                <div class="icon is-open"></div>
              </div>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="siteNavigationToggle" *ngIf="isDropdownOpen">
                <ul class="dropdown-menu-list dropdown-menu-item-contain-links">
                  <li class="dropdown-menu-item site-header-navigation-item-characters prevent-click-custom" [routerLink]="['/characters']" [routerLinkActive]="['active']" (click)="setPlaceholderText('Characters')">
                    <a class="dropdown-menu-item-link">
                      <span class="dropdown-menu-item-title">Characters</span>
                      <span class="dropdown-menu-item-count" *ngIf="charactersCount !== undefined">{{charactersCount}}</span>
                    </a>
                  </li>
                  <li class="dropdown-menu-item site-header-navigation-item-inventory prevent-click-custom" [routerLink]="['/rulesets']" [routerLinkActive]="['active']" (click)="setPlaceholderText('Rule Sets')">
                    <a class="dropdown-menu-item-link">
                      <span class="dropdown-menu-item-title">Rule Sets</span>
                      <span class="dropdown-menu-item-count" *ngIf="rulesetsCount !== undefined">{{rulesetsCount}}</span>
                    </a>
                  </li>
                  <li class="dropdown-menu-item site-header-navigation-item-images prevent-click-custom" (click)="openMyImages()">
                    <a class="dropdown-menu-item-link">
                      <span class="dropdown-menu-item-title">My Images</span>
                    </a>
                  </li>
                  <li class="dropdown-menu-item site-header-navigation-item-about prevent-click-custom" (click)="openAccountSettingsModal()">
                    <a class="dropdown-menu-item-link">
                      <span class="dropdown-menu-item-title">Account Settings</span>
                    </a>
                  </li>
                  <li class="dropdown-menu-item site-header-navigation-item-settings prevent-click-custom" (click)="openAboutHelpModal()">
                    <a class="dropdown-menu-item-link">
                      <span class="dropdown-menu-item-title">About / Help</span>
                    </a>
                  </li>
                  <li class="dropdown-menu-item site-header-navigation-item-logout prevent-click-custom" (click)="logout()">
                    <a class="dropdown-menu-item-link">
                      <span class="dropdown-menu-item-title">Logout</span>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
          <!-- End of site navigation -->
        </div>
      </div>
    </div>
  </header>
  <!-- End of site header -->
  <ng2-toasty [position]="'top-center'"></ng2-toasty>
  <div class="container">
    <router-outlet></router-outlet>

    <a href="javascript:void(0);" *ngIf="showScrollButton" class="icon icon-arrow-up fade-in back-to-top" (click)="scrollToTop()"></a>
  </div>
</div>


